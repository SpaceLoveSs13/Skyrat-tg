<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;world - </title>
</head>
<body>
<header>
    <a href="index.html"></a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="world.html#proc">Proc Details</a></header>
<main>
<h1>world <aside>/<a href="world.html">world</a></aside>
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/world.dm#L11">
        <img src="git.png" width="16" height="16" title="code&#x2F;world.dm 11"/></a></h1>

<p>Runs the game in &quot;map test mode&quot;
Map test mode prevents common annoyances, such as rats from spawning and random light fixture breakage,
so mappers can test important facets of their map (working powernet, atmos, good light coverage) without these interfering.</p>
<hh1 id="world">World</hh1>
<p>Two possibilities exist: either we are alone in the Universe or we are not. Both are equally terrifying. ~ Arthur C. Clarke</p>
<p>The byond world object stores some basic byond level config, and has a few hub specific procs for managing hub visiblity</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="world.html#proc/ConfigLoaded">ConfigLoaded</a></th><td>Runs after config is loaded but before Master is initialized</td></tr>
            <tr><th><a href="world.html#proc/Genesis">Genesis</a></th><td>WORLD INITIALIZATION
THIS IS THE INIT ORDER:</td></tr>
            <tr><th><a href="world.html#proc/InitTgs">InitTgs</a></th><td>Initializes TGS and loads the returned revising info into GLOB.revdata</td></tr>
            <tr><th><a href="world.html#proc/New">New</a></th><td>World creation</td></tr>
            <tr><th><a href="world.html#proc/RunUnattendedFunctions">RunUnattendedFunctions</a></th><td>Runs after the call to Master.Initialize, but before the delay kicks in. Used to turn the world execution into some single function then exit</td></tr>
            <tr><th><a href="world.html#proc/TgsApiVersion">TgsApiVersion</a></th><td>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI being used if it was activated, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsAvailable">TgsAvailable</a></th><td>Returns [TRUE] if DreamDaemon was launched under TGS, the API matches, and was properly initialized. [FALSE] will be returned otherwise.</td></tr>
            <tr><th><a href="world.html#proc/TgsChatBroadcast">TgsChatBroadcast</a></th><td>Send a message to connected chats that are flagged as game-related in TGS. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr>
            <tr><th><a href="world.html#proc/TgsChatChannelInfo">TgsChatChannelInfo</a></th><td>Returns a list of connected <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsChatPrivateMessage">TgsChatPrivateMessage</a></th><td>Send a private message to a specific user. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr>
            <tr><th><a href="world.html#proc/TgsEndProcess">TgsEndProcess</a></th><td>Forces a hard reboot of DreamDaemon by ending the process. This function may sleep!</td></tr>
            <tr><th><a href="world.html#proc/TgsEngine">TgsEngine</a></th><td>Returns the running engine type</td></tr>
            <tr><th><a href="world.html#proc/TgsInitializationComplete">TgsInitializationComplete</a></th><td>Call this when your initializations are complete and your game is ready to play before any player interactions happen.</td></tr>
            <tr><th><a href="world.html#proc/TgsInstanceName">TgsInstanceName</a></th><td>Returns the name of the TGS instance running the game if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsMaximumApiVersion">TgsMaximumApiVersion</a></th><td>Returns the maximum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</td></tr>
            <tr><th><a href="world.html#proc/TgsMinimumApiVersion">TgsMinimumApiVersion</a></th><td>Returns the minimum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</td></tr>
            <tr><th><a href="world.html#proc/TgsNew">TgsNew</a></th><td>Call this somewhere in <a href="world.html#proc/New" title="/world">/world/proc/New</a> that is always run. This function may sleep!</td></tr>
            <tr><th><a href="world.html#proc/TgsReboot">TgsReboot</a></th><td>Call this as late as possible in [world/proc/Reboot] (BEFORE ..()).</td></tr>
            <tr><th><a href="world.html#proc/TgsRevision">TgsRevision</a></th><td>Return the current <a href="datum/tgs_revision_information.html" title="/datum/tgs_revision_information">/datum/tgs_revision_information</a> of the running server if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsSecurityLevel">TgsSecurityLevel</a></th><td>Returns the current BYOND security level as a TGS_SECURITY_ define if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsTargetedChatBroadcast">TgsTargetedChatBroadcast</a></th><td>Send a message to connected chats. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr>
            <tr><th><a href="world.html#proc/TgsTestMerges">TgsTestMerges</a></th><td>Returns a list of active <a href="datum/tgs_revision_information/test_merge.html" title="/datum/tgs_revision_information/test_merge">/datum/tgs_revision_information/test_merge</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsTriggerEvent">TgsTriggerEvent</a></th><td>Trigger an event in TGS. Requires TGS version &gt;= 6.3.0. Returns [TRUE] if the event was triggered successfully, [FALSE] otherwise. This function may sleep!</td></tr>
            <tr><th><a href="world.html#proc/TgsVersion">TgsVersion</a></th><td>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of TGS if it is running the server, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/TgsVisibility">TgsVisibility</a></th><td>Returns the current BYOND visibility level as a TGS_VISIBILITY_ define if TGS is present, null otherwise. Requires TGS to be using interop API version 5 or higher otherwise the string &quot;___unimplemented&quot; wil be returned. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr>
            <tr><th><a href="world.html#proc/get_world_state_for_logging">get_world_state_for_logging</a></th><td>Returns a list of data about the world state, don't clutter</td></tr>
            <tr><th><a href="world.html#proc/increase_max_x">increase_max_x</a></th><td>Handles incresing the world's maxx var and intializing the new turfs and assigning them to the global area.
If map_load_z_cutoff is passed in, it will only load turfs up to that z level, inclusive.
This is because maploading will handle the turfs it loads itself.</td></tr>
            <tr><th><a href="world.html#proc/jatum_deserialize">jatum_deserialize</a></th><td>Attempt to create a value from a JATUM JSON.</td></tr>
            <tr><th><a href="world.html#proc/jatum_serialize">jatum_serialize</a></th><td>Attempt to serialize a given value to the JATUM format.</td></tr>
            <tr><th><a href="world.html#proc/push_usr">push_usr</a></th><td>Makes a call in the context of a different usr. Use sparingly</td></tr>
            <tr><th><a href="world.html#proc/send_cross_comms">send_cross_comms</a></th><td>Sends a message to a given cross comms server by name (by name for security).</td></tr>
            <tr><th><a href="world.html#proc/shelleo">shelleo</a></th><td>XXX
AOO
XXX
AXX</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/ConfigLoaded"><aside class="declaration">proc </aside>ConfigLoaded<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L144">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 144"/></a></aside>
        </h3>
        <p>Runs after config is loaded but before Master is initialized</p><h3 id="proc/Genesis"><aside class="declaration">proc </aside>Genesis<aside>(tracy_initialized) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 64"/></a></aside>
        </h3>
        <p>WORLD INITIALIZATION
THIS IS THE INIT ORDER:</p>
<p>BYOND =&gt;</p>
<ul>
<li>(secret init native) =&gt;
<ul>
<li>world.Genesis() =&gt;
<ul>
<li>world.init_byond_tracy()</li>
<li>(Start native profiling)</li>
<li>world.init_debugger()</li>
<li>Master =&gt;
<ul>
<li>config *unloaded</li>
<li>(all subsystems) PreInit()</li>
<li>GLOB =&gt;
<ul>
<li>make_datum_reference_lists()</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>(/static variable inits, reverse declaration order)</li>
</ul>
</li>
<li>(all pre-mapped atoms) /atom/New()</li>
<li>world.New() =&gt;
<ul>
<li>config.Load()</li>
<li>world.InitTgs() =&gt;
<ul>
<li>TgsNew() *may sleep</li>
<li>GLOB.rev_data.load_tgs_info()</li>
</ul>
</li>
<li>world.ConfigLoaded() =&gt;
<ul>
<li>SSdbcore.InitializeRound()</li>
<li>world.SetupLogs()</li>
<li>load_admins()</li>
<li>...</li>
</ul>
</li>
<li>Master.Initialize() =&gt;
<ul>
<li>(all subsystems) Initialize()</li>
<li>Master.StartProcessing() =&gt;
<ul>
<li>Master.Loop() =&gt;
<ul>
<li>Failsafe</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>world.RunUnattendedFunctions()</li>
</ul>
</li>
</ul>
<p>Now listen up because I want to make something clear:
If something is not in this list it should almost definitely be handled by a subsystem Initialize()ing
If whatever it is that needs doing doesn't fit in a subsystem you probably aren't trying hard enough tbhfam</p>
<p>GOT IT MEMORIZED?</p>
<ul>
<li>Dominion/Cyberboss</li>
</ul>
<p>Where to put init shit quick guide:
If you need it to happen before the mc is created: world/Genesis.
If you need it to happen last: world/New(),
Otherwise, in a subsystem preinit or init. Subsystems can set an init priority.</p>
<p>THIS !!!SINGLE!!! PROC IS WHERE ANY FORM OF INIITIALIZATION THAT CAN'T BE PERFORMED IN SUBSYSTEMS OR WORLD/NEW IS DONE
NOWHERE THE FUCK ELSE
I DON'T CARE HOW MANY LAYERS OF DEBUG/PROFILE/TRACE WE HAVE, YOU JUST HAVE TO DEAL WITH THIS PROC EXISTING
I'M NOT EVEN GOING TO TELL YOU WHERE IT'S CALLED FROM BECAUSE I'M DECLARING THAT FORBIDDEN KNOWLEDGE
SO HELP ME GOD IF I FIND ABSTRACTION LAYERS OVER THIS!</p><h3 id="proc/InitTgs"><aside class="declaration">proc </aside>InitTgs<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L139">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 139"/></a></aside>
        </h3>
        <p>Initializes TGS and loads the returned revising info into GLOB.revdata</p><h3 id="proc/New"><aside class="declaration">proc </aside>New<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L116">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 116"/></a></aside>
        </h3>
        <p>World creation</p>
<p>Here is where a round itself is actually begun and setup.</p>
<ul>
<li>db connection setup</li>
<li>config loaded from files</li>
<li>loads admins</li>
<li>Sets up the dynamic menu system</li>
<li>and most importantly, calls initialize on the master subsystem, starting the game loop that causes the rest of the game to begin processing and setting up</li>
</ul>
<p>Nothing happens until something moves. ~Albert Einstein</p>
<p>For clarity, this proc gets triggered later in the initialization pipeline, it is not the first thing to happen, as it might seem.</p>
<p>Initialization Pipeline:
Global vars are new()'ed, (including config, glob, and the master controller will also new and preinit all subsystems when it gets new()ed)
Compiled in maps are loaded (mainly centcom). all areas/turfs/objs/mobs(ATOMs) in these maps will be new()ed
world/New() (You are here)
Once world/New() returns, client's can connect.
1 second sleep
Master Controller initialization.
Subsystem initialization.
Non-compiled-in maps are maploaded, all atoms are new()ed
All atoms in both compiled and uncompiled maps are initialized()</p><h3 id="proc/RunUnattendedFunctions"><aside class="declaration">proc </aside>RunUnattendedFunctions<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L165">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 165"/></a></aside>
        </h3>
        <p>Runs after the call to Master.Initialize, but before the delay kicks in. Used to turn the world execution into some single function then exit</p><h3 id="proc/TgsApiVersion"><aside class="declaration">proc </aside>TgsApiVersion<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L478">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 478"/></a></aside>
        </h3>
        <p>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI being used if it was activated, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsAvailable"><aside class="declaration">proc </aside>TgsAvailable<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L425">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 425"/></a></aside>
        </h3>
        <p>Returns [TRUE] if DreamDaemon was launched under TGS, the API matches, and was properly initialized. [FALSE] will be returned otherwise.</p><h3 id="proc/TgsChatBroadcast"><aside class="declaration">proc </aside>TgsChatBroadcast<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgs_message_content.html">tgs_message_content</a>/message, /list/channels) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L466">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 466"/></a></aside>
        </h3>
        <p>Send a message to connected chats that are flagged as game-related in TGS. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
channels - Optional list of <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s to restrict the message to.</p><h3 id="proc/TgsChatChannelInfo"><aside class="declaration">proc </aside>TgsChatChannelInfo<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L502">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 502"/></a></aside>
        </h3>
        <p>Returns a list of connected <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsChatPrivateMessage"><aside class="declaration">proc </aside>TgsChatPrivateMessage<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgs_message_content.html">tgs_message_content</a>/message, /<a href="datum.html">datum</a>/<a href="datum/tgs_chat_user.html">tgs_chat_user</a>/user) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L456">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 456"/></a></aside>
        </h3>
        <p>Send a private message to a specific user. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
user: The <a href="datum/tgs_chat_user.html" title="/datum/tgs_chat_user">/datum/tgs_chat_user</a> to PM.</p><h3 id="proc/TgsEndProcess"><aside class="declaration">proc </aside>TgsEndProcess<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L436">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 436"/></a></aside>
        </h3>
        <p>Forces a hard reboot of DreamDaemon by ending the process. This function may sleep!</p>
<p>Unlike del(world) clients will try to reconnect.
If TGS has not requested a <a href="code/__DEFINES/tgs.html#define/TGS_REBOOT_MODE_SHUTDOWN" title="TGS_REBOOT_MODE_SHUTDOWN">TGS_REBOOT_MODE_SHUTDOWN</a> DreamDaemon will be launched again.</p><h3 id="proc/TgsEngine"><aside class="declaration">proc </aside>TgsEngine<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L474">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 474"/></a></aside>
        </h3>
        <p>Returns the running engine type</p><h3 id="proc/TgsInitializationComplete"><aside class="declaration">proc </aside>TgsInitializationComplete<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L170">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 170"/></a></aside>
        </h3>
        <p>Call this when your initializations are complete and your game is ready to play before any player interactions happen.</p>
<p>This may use <a href="https://www.byond.com/docs/ref/#/world/var/sleep_offline" title="/world/var/sleep_offline">/world/var/sleep_offline</a> to make this happen so ensure no changes are made to it while this call is running.
Afterwards, consider explicitly setting it to what you want to avoid this BYOND bug: http://www.byond.com/forum/post/2575184
This function should not be called before ..() in <a href="world.html#proc/New" title="/world">/world/proc/New</a>.</p><h3 id="proc/TgsInstanceName"><aside class="declaration">proc </aside>TgsInstanceName<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L482">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 482"/></a></aside>
        </h3>
        <p>Returns the name of the TGS instance running the game if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsMaximumApiVersion"><aside class="declaration">proc </aside>TgsMaximumApiVersion<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L415">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 415"/></a></aside>
        </h3>
        <p>Returns the maximum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</p><h3 id="proc/TgsMinimumApiVersion"><aside class="declaration">proc </aside>TgsMinimumApiVersion<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L419">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 419"/></a></aside>
        </h3>
        <p>Returns the minimum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</p><h3 id="proc/TgsNew"><aside class="declaration">proc </aside>TgsNew<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgs_event_handler.html">tgs_event_handler</a>/event_handler, minimum_required_security_level) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L160">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 160"/></a></aside>
        </h3>
        <p>Call this somewhere in <a href="world.html#proc/New" title="/world">/world/proc/New</a> that is always run. This function may sleep!</p>
<ul>
<li>event_handler - Optional user defined <a href="datum/tgs_event_handler.html" title="/datum/tgs_event_handler">/datum/tgs_event_handler</a>.</li>
<li>minimum_required_security_level: The minimum required security level to run the game in which the DMAPI is integrated. Can be one of <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_ULTRASAFE" title="TGS_SECURITY_ULTRASAFE">TGS_SECURITY_ULTRASAFE</a>, <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_SAFE" title="TGS_SECURITY_SAFE">TGS_SECURITY_SAFE</a>, or <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_TRUSTED" title="TGS_SECURITY_TRUSTED">TGS_SECURITY_TRUSTED</a>.</li>
</ul><h3 id="proc/TgsReboot"><aside class="declaration">proc </aside>TgsReboot<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L179">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 179"/></a></aside>
        </h3>
        <p>Call this as late as possible in [world/proc/Reboot] (BEFORE ..()).</p><h3 id="proc/TgsRevision"><aside class="declaration">proc </aside>TgsRevision<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L486">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 486"/></a></aside>
        </h3>
        <p>Return the current <a href="datum/tgs_revision_information.html" title="/datum/tgs_revision_information">/datum/tgs_revision_information</a> of the running server if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsSecurityLevel"><aside class="declaration">proc </aside>TgsSecurityLevel<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L490">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 490"/></a></aside>
        </h3>
        <p>Returns the current BYOND security level as a TGS_SECURITY_ define if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsTargetedChatBroadcast"><aside class="declaration">proc </aside>TgsTargetedChatBroadcast<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgs_message_content.html">tgs_message_content</a>/message, admin_only) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L446">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 446"/></a></aside>
        </h3>
        <p>Send a message to connected chats. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
admin_only: If [TRUE], message will be sent to admin connected chats. Vice-versa applies.</p><h3 id="proc/TgsTestMerges"><aside class="declaration">proc </aside>TgsTestMerges<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L498">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 498"/></a></aside>
        </h3>
        <p>Returns a list of active <a href="datum/tgs_revision_information/test_merge.html" title="/datum/tgs_revision_information/test_merge">/datum/tgs_revision_information/test_merge</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsTriggerEvent"><aside class="declaration">proc </aside>TgsTriggerEvent<aside>(event_name, /list/parameters, wait_for_completion) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L512">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 512"/></a></aside>
        </h3>
        <p>Trigger an event in TGS. Requires TGS version &gt;= 6.3.0. Returns [TRUE] if the event was triggered successfully, [FALSE] otherwise. This function may sleep!</p>
<p>event_name - The name of the event to trigger
parameters - Optional list of string parameters to pass as arguments to the event script. The first parameter passed to a script will always be the running game's directory followed by these parameters.
wait_for_completion - If set, this function will not return until the event has run to completion.</p><h3 id="proc/TgsVersion"><aside class="declaration">proc </aside>TgsVersion<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L470">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 470"/></a></aside>
        </h3>
        <p>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of TGS if it is running the server, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsVisibility"><aside class="declaration">proc </aside>TgsVisibility<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__DEFINES/tgs.dm#L494">
        <img src="git.png" width="16" height="16" title="code&#x2F;__DEFINES&#x2F;tgs.dm 494"/></a></aside>
        </h3>
        <p>Returns the current BYOND visibility level as a TGS_VISIBILITY_ define if TGS is present, null otherwise. Requires TGS to be using interop API version 5 or higher otherwise the string &quot;___unimplemented&quot; wil be returned. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/get_world_state_for_logging"><aside class="declaration">proc </aside>get_world_state_for_logging<aside>() 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L188">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 188"/></a></aside>
        </h3>
        <p>Returns a list of data about the world state, don't clutter</p><h3 id="proc/increase_max_x"><aside class="declaration">proc </aside>increase_max_x<aside>(new_maxx, map_load_z_cutoff) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/game/world.dm#L419">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;world.dm 419"/></a></aside>
        </h3>
        <p>Handles incresing the world's maxx var and intializing the new turfs and assigning them to the global area.
If map_load_z_cutoff is passed in, it will only load turfs up to that z level, inclusive.
This is because maploading will handle the turfs it loads itself.</p><h3 id="proc/jatum_deserialize"><aside class="declaration">proc </aside>jatum_deserialize<aside>(json) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__HELPERS/jatum.dm#L140">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;jatum.dm 140"/></a></aside>
        </h3>
        <p>Attempt to create a value from a JATUM JSON.</p>
<ul>
<li>json - The JSON to deserialize.</li>
</ul><h3 id="proc/jatum_serialize"><aside class="declaration">proc </aside>jatum_serialize<aside>(value) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__HELPERS/jatum.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;jatum.dm 17"/></a></aside>
        </h3>
        <p>Attempt to serialize a given value to the JATUM format.</p>
<ul>
<li>value - The var to serialize.</li>
</ul><h3 id="proc/push_usr"><aside class="declaration">proc </aside>push_usr<aside>(/<a href="mob.html">mob</a>/user_mob, /<a href="datum.html">datum</a>/<a href="datum/callback.html">callback</a>/invoked_callback, ...) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__HELPERS/mobs.dm#L868">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;mobs.dm 868"/></a></aside>
        </h3>
        <p>Makes a call in the context of a different usr. Use sparingly</p><h3 id="proc/send_cross_comms"><aside class="declaration">proc </aside>send_cross_comms<aside>(server_name, /list/message, auth) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/modules/admin/verbs/adminhelp.dm#L983">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;admin&#x2F;verbs&#x2F;adminhelp.dm 983"/></a></aside>
        </h3>
        <p>Sends a message to a given cross comms server by name (by name for security).</p><h3 id="proc/shelleo"><aside class="declaration">proc </aside>shelleo<aside>(command) 
        
    
            <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/blob/5c7c7aa23a463cae420d6f8ec8e8264e32e91734/code/__HELPERS/shell.dm#L6">
        <img src="git.png" width="16" height="16" title="code&#x2F;__HELPERS&#x2F;shell.dm 6"/></a></aside>
        </h3>
        <p>XXX
AOO
XXX
AXX</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/SpaceLoveSs13/Skyrat-tg/tree/5c7c7aa23a463cae420d6f8ec8e8264e32e91734">5c7c7aa</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
